import requests
import re

# URL of the prayer times for Küçükçekmece
url = "https://namazvakitleri.diyanet.gov.tr/tr-TR/9543/kucukcekmece-icin-namaz-vakti"

# Send a GET request to the URL
response = requests.get(url)

# Check if the request was successful
if response.status_code == 200:
    # Use regular expressions to find the prayer times in the JavaScript variables
    prayer_times = {}
    matches = re.findall(r'var _(\w+)Time = "(\d{2}:\d{2})";', response.text)
    
    # Loop through the matches and store them in a dictionary
    for match in matches:
        prayer_name = match[0]  # The name of the prayer without the '_Time' suffix
        prayer_time = match[1]
        prayer_times[prayer_name] = prayer_time

    # Print the prayer times
    formatted_prayer_names = {
        "imsak": "Imsak",
        "gunes": "Güneş",
        "ogle": "Öğle",
        "ikindi": "İkindi",
        "aksam": "Akşam",
        "yatsi": "Yatsı"
    }

    for key, value in prayer_times.items():
        print(f"{formatted_prayer_names[key]}: {value}")
else:
    print("Failed to retrieve the page.")
